# Project: FlowDoChat - Functional Specification

## **0. 基本情報**

- **アプリ名:** FlowDoChat
- **サブタイトル候補:**
    - Chat, Plan, Live.（対話で回す、人生のOS）
    - Chat, Plan, Live.（あなた専属のAIペースメーカー）
- **プラットフォーム:** iOS（SwiftUI）
- **コンセプト:** **Tunable Partner（チューニングできる相棒）**
    - 「タスク管理」ではなく「相棒との並走」
    - 会話を通じて、頭の中のモヤモヤを「今日やる一歩」に落とす

---

## **1. アプリの目的**

- **生活のオートパイロット化**
    - ユーザーの「やりたい / やるべき / 気になっていること」を会話から抽出し、
        
        その日やるべきタスクとして整理・提示する。
        
- **自己効力感の最大化**
    - やったことを記録し、カレンダーヒートマップで可視化。
    - 「今日はちゃんとやれた」という実感を残す。

---

## **2. 非目的（Anti-Goals）**

- 複雑なプロジェクト管理（チーム・Jira的なこと）はやらない。
- 「雑談だけのチャットボット」にもしない。
    
    → **必ず UI上のタスクカード / 実行ログに落とす**。
    

---

## **3. ターゲット**

- ToDo管理に疲れた個人（フリーランス、学生、クリエイター）
- ADHD傾向などで「何から手をつければいいか分からない人」
- 「優しく並走してくれる存在」がほしい人

---

## **4. 価値 / 差別化**

- **Input Zero 指向**
    - いきなり「＋ボタンから入力」ではなく、まずは会話からスタート。
- **Emotion First**
    - 「しんどい」「今日は無理かも」も正直に言える前提で、
        
        タスク量やハードルを AI 側が調整してくれる。
        
- **Life Log**
    - 会話とタスク完了履歴が「人生の足跡」として蓄積される。
    - Memories 画面で **日ごとの頑張りが一目でわかるヒートマップ** に。

---

## **5. 画面構成（Navigation & Screen Structure）**

### **5.1 メイン構成**

**① Home: Talk & Do（メイン画面 / 常時表示）**

- 役割：
    
    今日の相棒。チャットと、その日のタスク実行を行う場所。
    
- レイアウト:
    - **Header**
        - 左上：**Gearアイコン（設定画面への遷移）**
        - 右上：**Memories 遷移ボタン**（Full Screen Cover）
    - 中央：Chat Timeline（AIとの対話）
    - 下部：Today’s Task List（TODAY’S FLOW）
        - チャットから生成されたタスク
        - 手動追加されたタスクの一覧

---

**② Memories: Log & Heatmap（フルスクリーン履歴ビュー）**

- 遷移：
    - Home右上ボタン → .fullScreenCover で表示
- ヘッダー:
    - **右上：Xボタンのみ**（タップで閉じて Home に戻る）
    - 左上にはナビゲーション要素を置かない（没入感を重視）
- 内容（MVP）:
    - カレンダー形式の**ヒートマップ**
        - 各日付が、完了タスク数 / スコアに応じて色の濃さで表示
    - 日付をタップすると：
        - その日の完了タスク一覧を下部カードで表示（「何をやった日か」が分かる）
    - デザイン方針：
        - Homeの「AIのオーラ波紋」と同じ色・形状モチーフを使用
        - 「色 × 形」で、チャット体験とヒートマップ体験がつながる

---

**③ Settings: 設定 / パートナー調整画面**

- 遷移：
    - Home 左上 Gear アイコン → .sheet or .fullScreenCover
- 内容（MVP）:
- 内容（MVP）:
    - パートナー設定（簡易版）
        - 名前（ニックネーム）
        - 口調のトーン（優しめ / フラット / ちょい厳しめ）
    - アプリ設定（最小限）
        - 通知ON/OFF（実装する場合）
        - 簡単な利用ガイド / About

※ AIの詳細仕様（人格、トーン、ロジック）については **`FlowDoChat画面設計/AI利用方法/このアプリのAIについて.txt`** を参照。

---

## **6. 利用フロー（MVP想定）**

### **6.1 初回起動**

1. 簡単なウェルカム
2. 軽いオンボーディング（3〜4問程度）
    - 呼び方（ユーザーの名前）
    - 目標感（仕事・勉強・生活リズムなど）
    - AIの雰囲気（優しめ / フラット / 厳しめ）
3. Home画面へ遷移

---

### **6.2 日常利用フロー（1日の中）**

1. ユーザーがアプリを開く
2. **HomeでAIと会話**
    - 例：「今日やること整理して」「タスク多すぎてパニック」など
3. **AIがタスクを提案・生成**
    - 「じゃあ今日はこの3つからやろうか」
    - → Task List にカードとして追加
4. ユーザーはタスクのチェックを進める
    - カードのチェックボックス ON/OFF
5. 完了タスクがその日の「実績」として記録される
6. 後から Memories を開くと：
    - その日のヒートマップマスが濃くなる
    - その日やったことの一覧がカードで確認できる

---

## **7. タスク機能（MVP仕様）**

### **7.1 タスクの追加方法**

**1. チャットからの自動生成**

- ユーザー発話例：
    - 「明日10時に資料作るタスクお願い」
    - 「この後30分だけ掃除しよっかな」
- AIの動き：
    - 内容・日付・ざっくり所要時間（あれば）を解析
    - Todayのリストに **Taskカード** として追加
        
        （明日のタスクなど、日付ロジックはMVPでは「基本今日」に寄せてもOK）
        

**2. 手動追加（Quick Add）**

- Today’s Flowセクション内に、簡易入力エリアを用意
    - Placeholder: 「タスクを追加…」
    - 入力 → Return キー or 右の「＋」ボタンで追加
- 入力項目（MVP）：
    - タイトルのみ（時間などはナシ、または任意）

---

### **7.2 タスクモデル（簡易）**

- id
- title
- createdAt / date（その日のヒートマップ紐付け用）
- isCompleted: Bool
- （あれば）estimatedMinutes: Int?
- （将来用に）category（集中 / 日課 / 回復 など）※MVPでは固定でも可

※ チャットとUIの役割分担については **`FlowDoChat画面設計/AI利用方法/このアプリのAIについて.txt`** を参照。

---

## **8. ヒートマップ仕様（Memories）**

### **8.1 データの元ネタ**

- **その日の「完了したタスク数」** をベースにする
- 可能なら将来的に：
    - 所要時間やカテゴリごとの重みづけでスコア化（v1.1以降）

### 8.2 MVPの描画ロジック（Context Aura）

※ 詳細な判定ロジックは **`FlowDoChat画面設計/AI利用方法/このアプリのAIについて.txt`** を参照。

- **カテゴリベースの色分けを採用:** Focus(赤) / Routine(青) / Care(黄)

### **8.3 UIの挙動**

- カレンダーのセル = HomeのAI波紋と同じ形状モチーフ
- タップすると：
    - 画面下から、その日の完了タスクがリストアップされたカードが出る
    - 例：「この日やったこと」「よく頑張ったね」のような一言コメント（余裕があれば）

---

## **9. 技術要件（MVP）**

- **UIフレームワーク**: SwiftUI
- **状態管理**: ObservableObject / @StateObject（シンプルMVVM）
- **データ保存**: UserDefaults + Codable（ローカルのみ）
    - タスク
    - 1日ごとの完了情報
    - パートナー設定
- **AI連携**: （後でAnthropicやOpenAIを差し替え可能な前提でラップ）
    - Chat → テキストレスポンス＋「タスク意図」を抽出
    - 当面は 1 API 1レスポンスのシンプル構造

---

## **10. v1.0.0 の「ここまでやる / やらない」**

### **やる**

- Home画面（Chat + Today’s Task List）
- Settings画面（Gearから遷移、パートナー簡易設定＋アプリ設定）
- 課金画面（FlowDo Pro訴求、プラン選択）
- Memories画面（Full Screen Cover：
    - ヒートマップ
    - 日ごとの完了タスク一覧）
- タスク追加：
    - チャットから自動生成
    - 手動追加（Quick Add）

### **やらない（将来に回す）**

- Weekly / Monthlyレポート
- 複雑な繰り返し設定（毎週×曜日など）
- Voiceモード
- HealthKit / Apple Watch連携
- 高度な感情解析や超リッチ人格エディタ

---

## **11. 課金モデル (FlowDo Pro)**

### **11.1 プラン構成**

- **年額プラン:** ¥6,000 / 年（¥500/月 相当）
    - 7日間の無料トライアル付き
    - 一番人気（Best Value）訴求
- **月額プラン:** ¥600 / 月

### **11.2 Pro機能（差別化）**

※ AIモデル等の詳細は **`FlowDoChat画面設計/AI利用方法/このアプリのAIについて.txt`** を参照。

1. **ラリー無制限 (Unlimited Rally)**
2. **高性能AIモデル (High-Performance AI)**
3. **プロジェクト保存数 UP**
    - 最大50プロジェクトまで保存可能。